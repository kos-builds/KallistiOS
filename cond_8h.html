<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: include/kos/cond.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('cond_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">cond.h File Reference<div class="ingroups"><a class="el" href="group__threading.html">Threading</a> &raquo; <a class="el" href="group__kthreads.html">Kernel</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Condition variables.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="cdefs_8h_source.html">kos/cdefs.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">arch/types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="thread_8h_source.html">kos/thread.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="mutex_8h_source.html">kos/mutex.h</a>&gt;</code><br />
</div>
<p><a href="cond_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcondvar__t.html">condvar_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable.  <a href="structcondvar__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ade6ff9c5257a0945117900f46a8582be" id="r_ade6ff9c5257a0945117900f46a8582be"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#ade6ff9c5257a0945117900f46a8582be">COND_INITIALIZER</a>&#160;&#160;&#160;{ 0, 0 }</td></tr>
<tr class="memdesc:ade6ff9c5257a0945117900f46a8582be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializer for a transient condvar.  <br /></td></tr>
<tr class="separator:ade6ff9c5257a0945117900f46a8582be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9ed9cb297ec02c95ba3aaa994acac16b" id="r_a9ed9cb297ec02c95ba3aaa994acac16b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a9ed9cb297ec02c95ba3aaa994acac16b">cond_create</a> () <a class="el" href="group__system__macros.html#ga392e91d0f8a0af994874aadeed30534d">__depr</a>(&quot;Use <a class="el" href="cond_8h.html#ab91d64f116e1426002713d100efa57ef">cond_init</a> or COND_INITIALIZER.&quot;)</td></tr>
<tr class="memdesc:a9ed9cb297ec02c95ba3aaa994acac16b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new condition variable.  <br /></td></tr>
<tr class="separator:a9ed9cb297ec02c95ba3aaa994acac16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab91d64f116e1426002713d100efa57ef" id="r_ab91d64f116e1426002713d100efa57ef"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#ab91d64f116e1426002713d100efa57ef">cond_init</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv)</td></tr>
<tr class="memdesc:ab91d64f116e1426002713d100efa57ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a condition variable.  <br /></td></tr>
<tr class="separator:ab91d64f116e1426002713d100efa57ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf3da416bc74a9e5e87223c9306086c" id="r_a3cf3da416bc74a9e5e87223c9306086c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a3cf3da416bc74a9e5e87223c9306086c">cond_destroy</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv)</td></tr>
<tr class="memdesc:a3cf3da416bc74a9e5e87223c9306086c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Free a condition variable.  <br /></td></tr>
<tr class="separator:a3cf3da416bc74a9e5e87223c9306086c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7988f31476b89193ed4be63583f1bd24" id="r_a7988f31476b89193ed4be63583f1bd24"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a7988f31476b89193ed4be63583f1bd24">cond_wait</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv, <a class="el" href="structmutex__t.html">mutex_t</a> *m)</td></tr>
<tr class="memdesc:a7988f31476b89193ed4be63583f1bd24"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on a condition variable.  <br /></td></tr>
<tr class="separator:a7988f31476b89193ed4be63583f1bd24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cc61c3d1d0e1af230235d6660d544c1" id="r_a5cc61c3d1d0e1af230235d6660d544c1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a5cc61c3d1d0e1af230235d6660d544c1">cond_wait_timed</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv, <a class="el" href="structmutex__t.html">mutex_t</a> *m, int timeout)</td></tr>
<tr class="memdesc:a5cc61c3d1d0e1af230235d6660d544c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait on a condition variable with a timeout.  <br /></td></tr>
<tr class="separator:a5cc61c3d1d0e1af230235d6660d544c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3898839548221d67c3d001bc8de85de1" id="r_a3898839548221d67c3d001bc8de85de1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a3898839548221d67c3d001bc8de85de1">cond_signal</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv)</td></tr>
<tr class="memdesc:a3898839548221d67c3d001bc8de85de1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal a single thread waiting on the condition variable.  <br /></td></tr>
<tr class="separator:a3898839548221d67c3d001bc8de85de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9811da8b9b0268018ed579aa164143f2" id="r_a9811da8b9b0268018ed579aa164143f2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="cond_8h.html#a9811da8b9b0268018ed579aa164143f2">cond_broadcast</a> (<a class="el" href="structcondvar__t.html">condvar_t</a> *cv)</td></tr>
<tr class="memdesc:a9811da8b9b0268018ed579aa164143f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal all threads waiting on the condition variable.  <br /></td></tr>
<tr class="separator:a9811da8b9b0268018ed579aa164143f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Condition variables. </p>
<p>This file contains the definition of a Condition Variable. Condition Variables (or condvars for short) are used with a mutex to act as a lock and checkpoint pair for threads.</p>
<p>Basically, things work as follows (for the thread doing work): </p><ul>
<li>The associated mutex is locked. </li>
<li>A predicate is checked to see if it is safe to do something. </li>
<li>If it is not safe, you call <a class="el" href="cond_8h.html#a7988f31476b89193ed4be63583f1bd24" title="Wait on a condition variable.">cond_wait()</a>, which releases the mutex. </li>
<li>When <a class="el" href="cond_8h.html#a7988f31476b89193ed4be63583f1bd24" title="Wait on a condition variable.">cond_wait()</a> returns, the mutex is reacquired, and work can go on. </li>
<li>Update any predicates so that we know that the work is done, and unlock the mutex.</li>
</ul>
<p>Meanwhile, the thread updating the condition works as follows: </p><ul>
<li>Lock the mutex associated with the condvar. </li>
<li>Produce work to be done. </li>
<li>Call <a class="el" href="cond_8h.html#a3898839548221d67c3d001bc8de85de1" title="Signal a single thread waiting on the condition variable.">cond_signal()</a> (with the associated mutex still locked), so that any threads waiting on the condvar will know they can continue on when the mutex is released, also update any predicates that say whether work can be done. </li>
<li>Unlock the mutex so that worker threads can acquire the mutex and do whatever work needs to be done.</li>
</ul>
<p>Condition variables can be quite useful when used properly, and provide a fairly easy way to wait for work to be ready to be done.</p>
<p>Condition variables should never be used with mutexes that are of the type MUTEX_TYPE_RECURSIVE. The lock will only be released once by the wait function, and thus you will end up deadlocking if you use a recursive mutex that has been locked more than once.</p>
<dl class="section author"><dt>Author</dt><dd>Megan Potter </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ade6ff9c5257a0945117900f46a8582be" name="ade6ff9c5257a0945117900f46a8582be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade6ff9c5257a0945117900f46a8582be">&#9670;&#160;</a></span>COND_INITIALIZER</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define COND_INITIALIZER&#160;&#160;&#160;{ 0, 0 }</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializer for a transient condvar. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a9811da8b9b0268018ed579aa164143f2" name="a9811da8b9b0268018ed579aa164143f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9811da8b9b0268018ed579aa164143f2">&#9670;&#160;</a></span>cond_broadcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_broadcast </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal all threads waiting on the condition variable. </p>
<p>This function will wake up all threads that are waiting on the condition. The calling thread should be holding the associated mutex or recursive lock before calling this to guarantee sane behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The condition to signal </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success </td></tr>
    <tr><td class="paramname">-1</td><td>On error, errno will be set as appropriate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINVAL</em> - the condvar was not initialized </dd></dl>

</div>
</div>
<a id="a9ed9cb297ec02c95ba3aaa994acac16b" name="a9ed9cb297ec02c95ba3aaa994acac16b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed9cb297ec02c95ba3aaa994acac16b">&#9670;&#160;</a></span>cond_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structcondvar__t.html">condvar_t</a> * cond_create </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate a new condition variable. </p>
<p>This function allocates and initializes a new condition variable for use.</p>
<dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000001">Deprecated:</a></b></dt><dd>This function is formally deprecated and should not be used in new code. Instead you should use either the static initializer or the <a class="el" href="cond_8h.html#ab91d64f116e1426002713d100efa57ef" title="Initialize a condition variable.">cond_init()</a> function.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The created condvar on success. NULL is returned on failure and errno is set as appropriate.</dd></dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>ENOMEM</em> - out of memory </dd></dl>

</div>
</div>
<a id="a3cf3da416bc74a9e5e87223c9306086c" name="a3cf3da416bc74a9e5e87223c9306086c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf3da416bc74a9e5e87223c9306086c">&#9670;&#160;</a></span>cond_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Free a condition variable. </p>
<p>This function frees a condition variable, releasing all memory associated with it (but not with the mutex that is associated with it). This will also wake all threads waiting on the condition.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success (no error conditions currently defined) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab91d64f116e1426002713d100efa57ef" name="ab91d64f116e1426002713d100efa57ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab91d64f116e1426002713d100efa57ef">&#9670;&#160;</a></span>cond_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a condition variable. </p>
<p>This function initializes a new condition variable for use.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The condition variable to initialize </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success </td></tr>
    <tr><td class="paramname">-1</td><td>On error, sets errno as appropriate </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3898839548221d67c3d001bc8de85de1" name="a3898839548221d67c3d001bc8de85de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3898839548221d67c3d001bc8de85de1">&#9670;&#160;</a></span>cond_signal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_signal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Signal a single thread waiting on the condition variable. </p>
<p>This function will wake up a single thread that is waiting on the condition. The calling thread should be holding the associated mutex or recursive lock before calling this to guarantee sane behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The condition to signal </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success </td></tr>
    <tr><td class="paramname">-1</td><td>On error, errno will be set as appropriate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINVAL</em> - the condvar was not initialized </dd></dl>

</div>
</div>
<a id="a7988f31476b89193ed4be63583f1bd24" name="a7988f31476b89193ed4be63583f1bd24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7988f31476b89193ed4be63583f1bd24">&#9670;&#160;</a></span>cond_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_wait </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmutex__t.html">mutex_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait on a condition variable. </p>
<p>This function will wait on the condition variable, unlocking the mutex and putting the calling thread to sleep as one atomic operation. The wait in this function has no timeout, and will sleep forever if the condition is not signalled.</p>
<p>The mutex will be locked and owned by the calling thread on return, regardless of whether it is a successful or error return.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The condition to wait on </td></tr>
    <tr><td class="paramname">m</td><td>The associated mutex </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success </td></tr>
    <tr><td class="paramname">-1</td><td>On error, sets errno as appropriate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EPERM</em> - called inside an interrupt <br  />
<em>EINVAL</em> - the condvar was not initialized <br  />
<em>EINVAL</em> - the mutex is not initialized or not locked <br  />
<em>ENOTRECOVERABLE</em> - the condvar was destroyed while waiting </dd></dl>

</div>
</div>
<a id="a5cc61c3d1d0e1af230235d6660d544c1" name="a5cc61c3d1d0e1af230235d6660d544c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cc61c3d1d0e1af230235d6660d544c1">&#9670;&#160;</a></span>cond_wait_timed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cond_wait_timed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structcondvar__t.html">condvar_t</a> *&#160;</td>
          <td class="paramname"><em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structmutex__t.html">mutex_t</a> *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait on a condition variable with a timeout. </p>
<p>This function will wait on the condition variable, unlocking the mutex and putting the calling thread to sleep as one atomic operation. If the timeout elapses before the condition is signalled, this function will return error. If a timeout of 0 is given, the call is equivalent to <a class="el" href="cond_8h.html#a7988f31476b89193ed4be63583f1bd24" title="Wait on a condition variable.">cond_wait()</a> (there is no timeout).</p>
<p>The mutex will be locked and owned by the calling thread on return, regardless of whether it is a successful or error return.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv</td><td>The condition to wait on </td></tr>
    <tr><td class="paramname">m</td><td>The associated mutex </td></tr>
    <tr><td class="paramname">timeout</td><td>The number of milliseconds before timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success </td></tr>
    <tr><td class="paramname">-1</td><td>On error, sets errno as appropriate</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EPERM</em> - called inside an interrupt <br  />
<em>ETIMEDOUT</em> - timed out <br  />
<em>EINVAL</em> - the condvar was not initialized <br  />
<em>EINVAL</em> - the mutex is not initialized or not locked <br  />
<em>ENOTRECOVERABLE</em> - the condvar was destroyed while waiting </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_db731743ba9f17d1ef3041653c74f067.html">kos</a></li><li class="navelem"><a class="el" href="cond_8h.html">cond.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
