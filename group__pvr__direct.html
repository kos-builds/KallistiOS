<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: Direct Rendering</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__pvr__direct.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Direct Rendering<div class="ingroups"><a class="el" href="group__video.html">Video</a> &raquo; <a class="el" href="group__pvr.html">PowerVR API</a> &raquo; <a class="el" href="group__pvr__scene__mgmt.html">Scene Submission</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>API for using direct rendering with the PVR.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gad867b0b0fa0f10b63ba60c0d21a6b084" id="r_gad867b0b0fa0f10b63ba60c0d21a6b084"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#gad867b0b0fa0f10b63ba60c0d21a6b084">pvr_dr_target</a>(vtx_buf_ptr)</td></tr>
<tr class="memdesc:gad867b0b0fa0f10b63ba60c0d21a6b084"><td class="mdescLeft">&#160;</td><td class="mdescRight">Obtain the target address for Direct Rendering.  <br /></td></tr>
<tr class="separator:gad867b0b0fa0f10b63ba60c0d21a6b084"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3592fe55a77e9c6e7959dd0ba7b360fb" id="r_ga3592fe55a77e9c6e7959dd0ba7b360fb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#ga3592fe55a77e9c6e7959dd0ba7b360fb">pvr_dr_commit</a>(addr)&#160;&#160;&#160;<a class="el" href="group__store__queues.html#gaaa981440464e89f52b075abbddfab805">sq_flush</a>(addr)</td></tr>
<tr class="memdesc:ga3592fe55a77e9c6e7959dd0ba7b360fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Commit a primitive written into the Direct Rendering target address.  <br /></td></tr>
<tr class="separator:ga3592fe55a77e9c6e7959dd0ba7b360fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gacb366131a582be08039c988ef083706d" id="r_gacb366131a582be08039c988ef083706d"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#gacb366131a582be08039c988ef083706d">pvr_dr_state_t</a></td></tr>
<tr class="memdesc:gacb366131a582be08039c988ef083706d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Direct Rendering state variable type.  <br /></td></tr>
<tr class="separator:gacb366131a582be08039c988ef083706d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga48e6eeb23611837f2e6b4cfdd636eb58" id="r_ga48e6eeb23611837f2e6b4cfdd636eb58"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#ga48e6eeb23611837f2e6b4cfdd636eb58">pvr_dr_init</a> (<a class="el" href="group__pvr__direct.html#gacb366131a582be08039c988ef083706d">pvr_dr_state_t</a> *vtx_buf_ptr)</td></tr>
<tr class="memdesc:ga48e6eeb23611837f2e6b4cfdd636eb58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a state variable for Direct Rendering.  <br /></td></tr>
<tr class="separator:ga48e6eeb23611837f2e6b4cfdd636eb58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeaf4592b858fa7a9a1034cb220db5d49" id="r_gaeaf4592b858fa7a9a1034cb220db5d49"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#gaeaf4592b858fa7a9a1034cb220db5d49">pvr_dr_finish</a> (void)</td></tr>
<tr class="memdesc:gaeaf4592b858fa7a9a1034cb220db5d49"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finish work with Direct Rendering.  <br /></td></tr>
<tr class="separator:gaeaf4592b858fa7a9a1034cb220db5d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2246fd7059ea362dc9e8b354a7de1bda" id="r_ga2246fd7059ea362dc9e8b354a7de1bda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__pvr__direct.html#ga2246fd7059ea362dc9e8b354a7de1bda">pvr_send_to_ta</a> (void *data)</td></tr>
<tr class="memdesc:ga2246fd7059ea362dc9e8b354a7de1bda"><td class="mdescLeft">&#160;</td><td class="mdescRight">Upload a 32-byte payload to the Tile Accelerator.  <br /></td></tr>
<tr class="separator:ga2246fd7059ea362dc9e8b354a7de1bda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>API for using direct rendering with the PVR. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga3592fe55a77e9c6e7959dd0ba7b360fb" name="ga3592fe55a77e9c6e7959dd0ba7b360fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3592fe55a77e9c6e7959dd0ba7b360fb">&#9670;&#160;</a></span>pvr_dr_commit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pvr_dr_commit</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">addr</td><td>)</td>
          <td>&#160;&#160;&#160;<a class="el" href="group__store__queues.html#gaaa981440464e89f52b075abbddfab805">sq_flush</a>(addr)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Commit a primitive written into the Direct Rendering target address. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">addr</td><td>The address returned by <a class="el" href="group__pvr__direct.html#gad867b0b0fa0f10b63ba60c0d21a6b084" title="Obtain the target address for Direct Rendering.">pvr_dr_target()</a>, after you have written the primitive to it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gad867b0b0fa0f10b63ba60c0d21a6b084" name="gad867b0b0fa0f10b63ba60c0d21a6b084"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gad867b0b0fa0f10b63ba60c0d21a6b084">&#9670;&#160;</a></span>pvr_dr_target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define pvr_dr_target</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">vtx_buf_ptr</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">    ({ (vtx_buf_ptr) ^= 32; \</div>
<div class="line">        (<a class="code hl_struct" href="structpvr__vertex__t.html">pvr_vertex_t</a> *)(<a class="code hl_define" href="group__p4mem.html#gac9490e36164a490e0024572e9c4688c5">MEM_AREA_SQ_BASE</a> | (vtx_buf_ptr)); \</div>
<div class="line">    })</div>
<div class="ttc" id="agroup__p4mem_html_gac9490e36164a490e0024572e9c4688c5"><div class="ttname"><a href="group__p4mem.html#gac9490e36164a490e0024572e9c4688c5">MEM_AREA_SQ_BASE</a></div><div class="ttdeci">#define MEM_AREA_SQ_BASE</div><div class="ttdoc">Store Queue (SQ) memory base.</div><div class="ttdef"><b>Definition</b> memory.h:119</div></div>
<div class="ttc" id="astructpvr__vertex__t_html"><div class="ttname"><a href="structpvr__vertex__t.html">pvr_vertex_t</a></div><div class="ttdoc">Generic PVR vertex type.</div><div class="ttdef"><b>Definition</b> pvr.h:833</div></div>
</div><!-- fragment -->
<p>Obtain the target address for Direct Rendering. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vtx_buf_ptr</td><td>State variable for Direct Rendering. Should be of type pvr_dr_state_t, and must have been initialized previously in the scene with <a class="el" href="group__pvr__direct.html#ga48e6eeb23611837f2e6b4cfdd636eb58" title="Initialize a state variable for Direct Rendering.">pvr_dr_init()</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A write-only destination address where a primitive should be written to get ready to submit it to the TA in DR mode. </dd></dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gacb366131a582be08039c988ef083706d" name="gacb366131a582be08039c988ef083706d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacb366131a582be08039c988ef083706d">&#9670;&#160;</a></span>pvr_dr_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__pvr__direct.html#gacb366131a582be08039c988ef083706d">pvr_dr_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Direct Rendering state variable type. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaeaf4592b858fa7a9a1034cb220db5d49" name="gaeaf4592b858fa7a9a1034cb220db5d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaeaf4592b858fa7a9a1034cb220db5d49">&#9670;&#160;</a></span>pvr_dr_finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_dr_finish </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finish work with Direct Rendering. </p>
<p>Called atomatically in <a class="el" href="group__pvr__scene__mgmt.html#ga0c93c12bd5268b38de9ff645b308f64f" title="Call this after you have finished submitting all data for a frame.">pvr_scene_finish()</a>. Use it manually if you want to release Store Queues earlier. </p>

</div>
</div>
<a id="ga48e6eeb23611837f2e6b4cfdd636eb58" name="ga48e6eeb23611837f2e6b4cfdd636eb58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga48e6eeb23611837f2e6b4cfdd636eb58">&#9670;&#160;</a></span>pvr_dr_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_dr_init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__pvr__direct.html#gacb366131a582be08039c988ef083706d">pvr_dr_state_t</a> *&#160;</td>
          <td class="paramname"><em>vtx_buf_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a state variable for Direct Rendering. </p>
<p>Store Queues are used.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vtx_buf_ptr</td><td>A variable of type pvr_dr_state_t to init. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga2246fd7059ea362dc9e8b354a7de1bda" name="ga2246fd7059ea362dc9e8b354a7de1bda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2246fd7059ea362dc9e8b354a7de1bda">&#9670;&#160;</a></span>pvr_send_to_ta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void pvr_send_to_ta </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Upload a 32-byte payload to the Tile Accelerator. </p>
<p>Upload the given payload to the Tile Accelerator. The difference with the Direct Rendering approach above is that the Store Queues are not used, and therefore can be used for anything else.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>A pointer to the 32-byte payload. The pointer must be aligned to 8 bytes. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
