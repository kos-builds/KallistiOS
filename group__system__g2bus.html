<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: G2 Bus</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__system__g2bus.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">G2 Bus<div class="ingroups"><a class="el" href="group__system.html">System</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Driver for accessing the devices on the G2 Bus.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:g2bus_8h" id="r_g2bus_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="g2bus_8h.html">g2bus.h</a></td></tr>
<tr class="memdesc:g2bus_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">G2 bus memory interface. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structg2__ctx__t.html">g2_ctx_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">G2 context.  <a href="structg2__ctx__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga2686dee6fa50396e35f9bd03188789ee" id="r_ga2686dee6fa50396e35f9bd03188789ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga2686dee6fa50396e35f9bd03188789ee">G2_DMA_TO_G2</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga2686dee6fa50396e35f9bd03188789ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">G2Bus DMA direction.  <br /></td></tr>
<tr class="separator:ga2686dee6fa50396e35f9bd03188789ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e686f87b492474749f40732af3be5af" id="r_ga5e686f87b492474749f40732af3be5af"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga5e686f87b492474749f40732af3be5af">G2_DMA_TO_SH4</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga5e686f87b492474749f40732af3be5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga731cc3ad9daf3047f99e0b14c35331c3" id="r_ga731cc3ad9daf3047f99e0b14c35331c3"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga731cc3ad9daf3047f99e0b14c35331c3">g2_dma_callback_t</a>) (void *data)</td></tr>
<tr class="memdesc:ga731cc3ad9daf3047f99e0b14c35331c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">G2Bus DMA interrupt callback type.  <br /></td></tr>
<tr class="separator:ga731cc3ad9daf3047f99e0b14c35331c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga84953671cbbff63b28efc7f3bcdba3aa" id="r_ga84953671cbbff63b28efc7f3bcdba3aa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga84953671cbbff63b28efc7f3bcdba3aa">g2_dma_transfer</a> (void *sh4, void *g2bus, size_t length, uint32_t block, <a class="el" href="group__system__g2bus.html#ga731cc3ad9daf3047f99e0b14c35331c3">g2_dma_callback_t</a> callback, void *cbdata, uint32_t dir, uint32_t mode, uint32_t g2chn, uint32_t sh4chn)</td></tr>
<tr class="memdesc:ga84953671cbbff63b28efc7f3bcdba3aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform a DMA transfer between SH-4 RAM and G2 Bus.  <br /></td></tr>
<tr class="separator:ga84953671cbbff63b28efc7f3bcdba3aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga607e22c5045e8ac37a6e01a3b3675f77" id="r_ga607e22c5045e8ac37a6e01a3b3675f77"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga607e22c5045e8ac37a6e01a3b3675f77">g2_dma_init</a> (void)</td></tr>
<tr class="memdesc:ga607e22c5045e8ac37a6e01a3b3675f77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize DMA support.  <br /></td></tr>
<tr class="separator:ga607e22c5045e8ac37a6e01a3b3675f77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd1d5ea633c47d8ba936d0982c9c951e" id="r_gacd1d5ea633c47d8ba936d0982c9c951e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gacd1d5ea633c47d8ba936d0982c9c951e">g2_dma_shutdown</a> (void)</td></tr>
<tr class="memdesc:gacd1d5ea633c47d8ba936d0982c9c951e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown DMA support.  <br /></td></tr>
<tr class="separator:gacd1d5ea633c47d8ba936d0982c9c951e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga726597af42393c34a37614573786bb29" id="r_ga726597af42393c34a37614573786bb29"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="structg2__ctx__t.html">g2_ctx_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga726597af42393c34a37614573786bb29">g2_lock</a> (void)</td></tr>
<tr class="memdesc:ga726597af42393c34a37614573786bb29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disable IRQs and G2 DMA.  <br /></td></tr>
<tr class="separator:ga726597af42393c34a37614573786bb29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28175a37be80794b04aaac5cd1a1eb13" id="r_ga28175a37be80794b04aaac5cd1a1eb13"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga28175a37be80794b04aaac5cd1a1eb13">g2_unlock</a> (<a class="el" href="structg2__ctx__t.html">g2_ctx_t</a> ctx)</td></tr>
<tr class="memdesc:ga28175a37be80794b04aaac5cd1a1eb13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enable IRQs and G2 DMA.  <br /></td></tr>
<tr class="separator:ga28175a37be80794b04aaac5cd1a1eb13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7c1e3a886467ce3ec2d924422f5736f" id="r_gab7c1e3a886467ce3ec2d924422f5736f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gab7c1e3a886467ce3ec2d924422f5736f">g2_read_8</a> (uintptr_t address)</td></tr>
<tr class="memdesc:gab7c1e3a886467ce3ec2d924422f5736f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one byte from G2.  <br /></td></tr>
<tr class="separator:gab7c1e3a886467ce3ec2d924422f5736f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7858e29c9de455ff8bc5177dc864dce9" id="r_ga7858e29c9de455ff8bc5177dc864dce9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga7858e29c9de455ff8bc5177dc864dce9">g2_write_8</a> (uintptr_t address, uint8_t value)</td></tr>
<tr class="memdesc:ga7858e29c9de455ff8bc5177dc864dce9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a single byte to G2.  <br /></td></tr>
<tr class="separator:ga7858e29c9de455ff8bc5177dc864dce9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga25745a9110107cf7885b1d8abfdf4ccc" id="r_ga25745a9110107cf7885b1d8abfdf4ccc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__system__types.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga25745a9110107cf7885b1d8abfdf4ccc">g2_read_16</a> (uintptr_t address)</td></tr>
<tr class="memdesc:ga25745a9110107cf7885b1d8abfdf4ccc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one 16-bit word from G2.  <br /></td></tr>
<tr class="separator:ga25745a9110107cf7885b1d8abfdf4ccc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9680ffb0182a7f76d126fa30c132cade" id="r_ga9680ffb0182a7f76d126fa30c132cade"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga9680ffb0182a7f76d126fa30c132cade">g2_write_16</a> (uintptr_t address, uint16_t value)</td></tr>
<tr class="memdesc:ga9680ffb0182a7f76d126fa30c132cade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a 16-bit word to G2.  <br /></td></tr>
<tr class="separator:ga9680ffb0182a7f76d126fa30c132cade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3e36808749a9670d569e1a51754d167" id="r_gaa3e36808749a9670d569e1a51754d167"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gaa3e36808749a9670d569e1a51754d167">g2_read_32</a> (uintptr_t address)</td></tr>
<tr class="memdesc:gaa3e36808749a9670d569e1a51754d167"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read one 32-bit dword from G2.  <br /></td></tr>
<tr class="separator:gaa3e36808749a9670d569e1a51754d167"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0198db5c9757656fc27a639b7c7ecc4d" id="r_ga0198db5c9757656fc27a639b7c7ecc4d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga0198db5c9757656fc27a639b7c7ecc4d">g2_write_32</a> (uintptr_t address, uint32_t value)</td></tr>
<tr class="memdesc:ga0198db5c9757656fc27a639b7c7ecc4d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a 32-bit dword to G2.  <br /></td></tr>
<tr class="separator:ga0198db5c9757656fc27a639b7c7ecc4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac245a5b8843233d4d8fa806f3a851212" id="r_gac245a5b8843233d4d8fa806f3a851212"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gac245a5b8843233d4d8fa806f3a851212">g2_read_block_8</a> (uint8_t *output, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:gac245a5b8843233d4d8fa806f3a851212"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block of bytes from G2.  <br /></td></tr>
<tr class="separator:gac245a5b8843233d4d8fa806f3a851212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3b8758ea9228eea654eaf32d28affcfd" id="r_ga3b8758ea9228eea654eaf32d28affcfd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga3b8758ea9228eea654eaf32d28affcfd">g2_write_block_8</a> (const uint8_t *input, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:ga3b8758ea9228eea654eaf32d28affcfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block of bytes to G2.  <br /></td></tr>
<tr class="separator:ga3b8758ea9228eea654eaf32d28affcfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35ee337664393da6fdb67e306ed16df4" id="r_ga35ee337664393da6fdb67e306ed16df4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga35ee337664393da6fdb67e306ed16df4">g2_read_block_16</a> (uint16_t *output, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:ga35ee337664393da6fdb67e306ed16df4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block of words from G2.  <br /></td></tr>
<tr class="separator:ga35ee337664393da6fdb67e306ed16df4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae7166f21d5caf1e8dd3f294bd22ebb2b" id="r_gae7166f21d5caf1e8dd3f294bd22ebb2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gae7166f21d5caf1e8dd3f294bd22ebb2b">g2_write_block_16</a> (const uint16_t *input, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:gae7166f21d5caf1e8dd3f294bd22ebb2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block of words to G2.  <br /></td></tr>
<tr class="separator:gae7166f21d5caf1e8dd3f294bd22ebb2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf8a4774ed57f52683e4444bcdbd88248" id="r_gaf8a4774ed57f52683e4444bcdbd88248"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gaf8a4774ed57f52683e4444bcdbd88248">g2_read_block_32</a> (uint32_t *output, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:gaf8a4774ed57f52683e4444bcdbd88248"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read a block of dwords from G2.  <br /></td></tr>
<tr class="separator:gaf8a4774ed57f52683e4444bcdbd88248"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee63d4c38cccb6ed8e14c7f75203d8f1" id="r_gaee63d4c38cccb6ed8e14c7f75203d8f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gaee63d4c38cccb6ed8e14c7f75203d8f1">g2_write_block_32</a> (const uint32_t *input, uintptr_t address, size_t amt)</td></tr>
<tr class="memdesc:gaee63d4c38cccb6ed8e14c7f75203d8f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write a block of dwords to G2.  <br /></td></tr>
<tr class="separator:gaee63d4c38cccb6ed8e14c7f75203d8f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6221d7bb810a5a10c71e8148992c7242" id="r_ga6221d7bb810a5a10c71e8148992c7242"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga6221d7bb810a5a10c71e8148992c7242">g2_memset_8</a> (uintptr_t address, uint8_t c, size_t amt)</td></tr>
<tr class="memdesc:ga6221d7bb810a5a10c71e8148992c7242"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set a block of bytes to G2.  <br /></td></tr>
<tr class="separator:ga6221d7bb810a5a10c71e8148992c7242"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc4f13361cf418a44d67c28beb0c7dce" id="r_gafc4f13361cf418a44d67c28beb0c7dce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#gafc4f13361cf418a44d67c28beb0c7dce">g2_fifo_wait</a> (void)</td></tr>
<tr class="memdesc:gafc4f13361cf418a44d67c28beb0c7dce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait for the G2 write FIFO to empty.  <br /></td></tr>
<tr class="separator:gafc4f13361cf418a44d67c28beb0c7dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">List of G2 Bus channels</h2></td></tr>
<tr><td class="ititle" colspan="2"><p>AICA (SPU) is channel 0, BBA uses channel 1.</p>
<p>CH2_DMA_G2CHN and CH3_DMA_G2CHN are not currently tied to any specific device.</p>
<dl class="section note"><dt>Note</dt><dd>A change in the implementation has rendered *_DMA_MODE and *_DMA_SHCHN obsolete.</dd></dl>
<p>In the current implementation, *_DMA_MODE should always be set to zero (representing CPU_TRIGGER). There is also no involvement of SH4-DMA with G2-DMA; therefore, the *_DMA_SHCHN values have been deprecated. </p>
</td></tr>
<tr class="memitem:ga804047866214994a18566d9a75f30fde" id="r_ga804047866214994a18566d9a75f30fde"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga804047866214994a18566d9a75f30fde">G2_DMA_CHAN_SPU</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:ga804047866214994a18566d9a75f30fde"><td class="mdescLeft">&#160;</td><td class="mdescRight">AICA: G2 channel 0.  <br /></td></tr>
<tr class="separator:ga804047866214994a18566d9a75f30fde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga964f229b1f4cefd58af7647794f2fa46" id="r_ga964f229b1f4cefd58af7647794f2fa46"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga964f229b1f4cefd58af7647794f2fa46">G2_DMA_CHAN_BBA</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ga964f229b1f4cefd58af7647794f2fa46"><td class="mdescLeft">&#160;</td><td class="mdescRight">BBA: G2 channel 1.  <br /></td></tr>
<tr class="separator:ga964f229b1f4cefd58af7647794f2fa46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga53d5b7fffe6e651001e0d6809ff42536" id="r_ga53d5b7fffe6e651001e0d6809ff42536"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga53d5b7fffe6e651001e0d6809ff42536">G2_DMA_CHAN_CH2</a>&#160;&#160;&#160;2</td></tr>
<tr class="memdesc:ga53d5b7fffe6e651001e0d6809ff42536"><td class="mdescLeft">&#160;</td><td class="mdescRight">CH2: G2 channel 2.  <br /></td></tr>
<tr class="separator:ga53d5b7fffe6e651001e0d6809ff42536"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60d3f9b5a6ae7fe592ef0aa6aa9055b1" id="r_ga60d3f9b5a6ae7fe592ef0aa6aa9055b1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__system__g2bus.html#ga60d3f9b5a6ae7fe592ef0aa6aa9055b1">G2_DMA_CHAN_CH3</a>&#160;&#160;&#160;3</td></tr>
<tr class="memdesc:ga60d3f9b5a6ae7fe592ef0aa6aa9055b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">CH3: G2 channel 3.  <br /></td></tr>
<tr class="separator:ga60d3f9b5a6ae7fe592ef0aa6aa9055b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Driver for accessing the devices on the G2 Bus. </p>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga964f229b1f4cefd58af7647794f2fa46" name="ga964f229b1f4cefd58af7647794f2fa46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga964f229b1f4cefd58af7647794f2fa46">&#9670;&#160;</a></span>G2_DMA_CHAN_BBA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_CHAN_BBA&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>BBA: G2 channel 1. </p>

</div>
</div>
<a id="ga53d5b7fffe6e651001e0d6809ff42536" name="ga53d5b7fffe6e651001e0d6809ff42536"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga53d5b7fffe6e651001e0d6809ff42536">&#9670;&#160;</a></span>G2_DMA_CHAN_CH2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_CHAN_CH2&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CH2: G2 channel 2. </p>

</div>
</div>
<a id="ga60d3f9b5a6ae7fe592ef0aa6aa9055b1" name="ga60d3f9b5a6ae7fe592ef0aa6aa9055b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga60d3f9b5a6ae7fe592ef0aa6aa9055b1">&#9670;&#160;</a></span>G2_DMA_CHAN_CH3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_CHAN_CH3&#160;&#160;&#160;3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>CH3: G2 channel 3. </p>

</div>
</div>
<a id="ga804047866214994a18566d9a75f30fde" name="ga804047866214994a18566d9a75f30fde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga804047866214994a18566d9a75f30fde">&#9670;&#160;</a></span>G2_DMA_CHAN_SPU</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_CHAN_SPU&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>AICA: G2 channel 0. </p>

</div>
</div>
<a id="ga2686dee6fa50396e35f9bd03188789ee" name="ga2686dee6fa50396e35f9bd03188789ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga2686dee6fa50396e35f9bd03188789ee">&#9670;&#160;</a></span>G2_DMA_TO_G2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_TO_G2&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>G2Bus DMA direction. </p>
<p>The direction you want the data to go. SH4 to AICA, BBA, etc use SH4TOG2BUS, otherwise G2BUSTOSH4. </p>

</div>
</div>
<a id="ga5e686f87b492474749f40732af3be5af" name="ga5e686f87b492474749f40732af3be5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e686f87b492474749f40732af3be5af">&#9670;&#160;</a></span>G2_DMA_TO_SH4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define G2_DMA_TO_SH4&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga731cc3ad9daf3047f99e0b14c35331c3" name="ga731cc3ad9daf3047f99e0b14c35331c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga731cc3ad9daf3047f99e0b14c35331c3">&#9670;&#160;</a></span>g2_dma_callback_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* g2_dma_callback_t) (void *data)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>G2Bus DMA interrupt callback type. </p>
<p>Functions that act as callbacks when G2-DMA completes should be of this type. These functions will be called inside an interrupt context, so don't try to use anything that might stall.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>User data passed in to the <a class="el" href="group__system__g2bus.html#ga84953671cbbff63b28efc7f3bcdba3aa" title="Perform a DMA transfer between SH-4 RAM and G2 Bus.">g2_dma_transfer()</a> function. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga607e22c5045e8ac37a6e01a3b3675f77" name="ga607e22c5045e8ac37a6e01a3b3675f77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga607e22c5045e8ac37a6e01a3b3675f77">&#9670;&#160;</a></span>g2_dma_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2_dma_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize DMA support. </p>
<p>This function sets up the DMA support for transfers to/from the G2 Bus.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success (no error conditions defined). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gacd1d5ea633c47d8ba936d0982c9c951e" name="gacd1d5ea633c47d8ba936d0982c9c951e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacd1d5ea633c47d8ba936d0982c9c951e">&#9670;&#160;</a></span>g2_dma_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_dma_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shutdown DMA support. </p>

</div>
</div>
<a id="ga84953671cbbff63b28efc7f3bcdba3aa" name="ga84953671cbbff63b28efc7f3bcdba3aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga84953671cbbff63b28efc7f3bcdba3aa">&#9670;&#160;</a></span>g2_dma_transfer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int g2_dma_transfer </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>sh4</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>g2bus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>block</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__system__g2bus.html#ga731cc3ad9daf3047f99e0b14c35331c3">g2_dma_callback_t</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>cbdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>g2chn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>sh4chn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Perform a DMA transfer between SH-4 RAM and G2 Bus. </p>
<p>This function copies a block of data between SH-4 RAM and G2 Bus via DMA. You specify the direction of the copy (SH4TOG2BUS/G2BUSTOSH4). There are all kinds of constraints that must be fulfilled to actually do this, so make sure to read all the fine print with the parameter list.</p>
<p>If a callback is specified, it will be called in an interrupt context, so keep that in mind in writing the callback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sh4</td><td>Where to copy from/to. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">g2bus</td><td>Where to copy from/to. Must be 32-byte aligned. </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes to copy. Must be a multiple of 32. </td></tr>
    <tr><td class="paramname">block</td><td>Non-zero if you want the function to block until the DMA completes. </td></tr>
    <tr><td class="paramname">callback</td><td>A function to call upon completion of the DMA. </td></tr>
    <tr><td class="paramname">cbdata</td><td>Data to pass to the callback function. </td></tr>
    <tr><td class="paramname">dir</td><td>SH4TOG2BUS or G2BUSTOSH4. </td></tr>
    <tr><td class="paramname">mode</td><td>Ignored; for compatibility only. </td></tr>
    <tr><td class="paramname">g2chn</td><td>See g2b_channels. </td></tr>
    <tr><td class="paramname">sh4chn</td><td>Ignored; for compatibility only. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On failure. Sets errno as appropriate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EINPROGRESS</em> - DMA already in progress <br  />
<em>EFAULT</em> - sh4 and/or g2bus is not 32-byte aligned <br  />
<em>EINVAL</em> - Invalid g2chn <em>EIO</em> - I/O error </dd></dl>

</div>
</div>
<a id="gafc4f13361cf418a44d67c28beb0c7dce" name="gafc4f13361cf418a44d67c28beb0c7dce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafc4f13361cf418a44d67c28beb0c7dce">&#9670;&#160;</a></span>g2_fifo_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_fifo_wait </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait for the G2 write FIFO to empty. </p>
<p>This function will spinwait until the G2 FIFO indicates that it has been drained. The FIFO is 32 bytes in length, and thus when accessing AICA you must do this at least for every 8 32-bit writes that you execute. </p>

</div>
</div>
<a id="ga726597af42393c34a37614573786bb29" name="ga726597af42393c34a37614573786bb29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga726597af42393c34a37614573786bb29">&#9670;&#160;</a></span>g2_lock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="structg2__ctx__t.html">g2_ctx_t</a> g2_lock </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Disable IRQs and G2 DMA. </p>
<p>This function makes the following g2_read_*()/g2_write_*() functions atomic by disabling IRQs and G2 DMA and storing their states. Pass the context created by this function to <a class="el" href="group__system__g2bus.html#ga28175a37be80794b04aaac5cd1a1eb13" title="Enable IRQs and G2 DMA.">g2_unlock()</a> to re-enable IRQs and G2 DMA.</p>
<dl class="section return"><dt>Returns</dt><dd>The context containing the IRQ and G2 DMA states. </dd></dl>

<p class="reference">References <a class="el" href="group__system__fifo.html#ga0311537c00d445bd49311fea60814562">FIFO_G2</a>, <a class="el" href="group__system__fifo.html#ga13f8a2ecc978716410a708e7a2c3c705">FIFO_SH4</a>, <a class="el" href="group__system__fifo.html#ga9e5c9878194f462bf7a46ca8a7b8f9d2">FIFO_STATUS</a>, <a class="el" href="group__irqs.html#gafb0c3c3a580a4319c69c2a46c71b5d15">irq_disable()</a>, and <a class="el" href="structg2__ctx__t.html#ac267f55e228e317e8bd936bedb1b0281">g2_ctx_t::irq_state</a>.</p>

</div>
</div>
<a id="ga6221d7bb810a5a10c71e8148992c7242" name="ga6221d7bb810a5a10c71e8148992c7242"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6221d7bb810a5a10c71e8148992c7242">&#9670;&#160;</a></span>g2_memset_8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_memset_8 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set a block of bytes to G2. </p>
<p>This function acts as memset() for setting a block of bytes on G2. It will take the necessary precautions for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in G2-space to write to. </td></tr>
    <tr><td class="paramname">c</td><td>The byte to write. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga25745a9110107cf7885b1d8abfdf4ccc" name="ga25745a9110107cf7885b1d8abfdf4ccc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga25745a9110107cf7885b1d8abfdf4ccc">&#9670;&#160;</a></span>g2_read_16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__system__types.html#ga05f6b0ae8f6a6e135b0e290c25fe0e4e">uint16</a> g2_read_16 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one 16-bit word from G2. </p>
<p>This function reads a single word from the specified address, taking all necessary precautions that are required for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The word read from the address specified. </dd></dl>

</div>
</div>
<a id="gaa3e36808749a9670d569e1a51754d167" name="gaa3e36808749a9670d569e1a51754d167"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa3e36808749a9670d569e1a51754d167">&#9670;&#160;</a></span>g2_read_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g2_read_32 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one 32-bit dword from G2. </p>
<p>This function reads a single dword from the specified address, taking all necessary precautions that are required for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The dword read from the address specified. </dd></dl>

</div>
</div>
<a id="gab7c1e3a886467ce3ec2d924422f5736f" name="gab7c1e3a886467ce3ec2d924422f5736f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7c1e3a886467ce3ec2d924422f5736f">&#9670;&#160;</a></span>g2_read_8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t g2_read_8 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read one byte from G2. </p>
<p>This function reads a single byte from the specified address, taking all necessary precautions that are required for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The byte read from the address specified. </dd></dl>

</div>
</div>
<a id="ga35ee337664393da6fdb67e306ed16df4" name="ga35ee337664393da6fdb67e306ed16df4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga35ee337664393da6fdb67e306ed16df4">&#9670;&#160;</a></span>g2_read_block_16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_read_block_16 </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a block of words from G2. </p>
<p>This function acts as memcpy() for copying data from G2 to system memory, but it copies 16 bits at a time. It will take the necessary precautions before accessing G2 for you as well.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>Pointer in system memory to write to. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to read from. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of words to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf8a4774ed57f52683e4444bcdbd88248" name="gaf8a4774ed57f52683e4444bcdbd88248"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf8a4774ed57f52683e4444bcdbd88248">&#9670;&#160;</a></span>g2_read_block_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_read_block_32 </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a block of dwords from G2. </p>
<p>This function acts as memcpy() for copying data from G2 to system memory, but it copies 32 bits at a time. It will take the necessary precautions before accessing G2 for you as well.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>Pointer in system memory to write to. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to read from. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of dwords to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gac245a5b8843233d4d8fa806f3a851212" name="gac245a5b8843233d4d8fa806f3a851212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac245a5b8843233d4d8fa806f3a851212">&#9670;&#160;</a></span>g2_read_block_8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_read_block_8 </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read a block of bytes from G2. </p>
<p>This function acts as memcpy() for copying data from G2 to system memory. It will take the necessary precautions before accessing G2 for you as well.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">output</td><td>Pointer in system memory to write to. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to read from. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of bytes to read. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga28175a37be80794b04aaac5cd1a1eb13" name="ga28175a37be80794b04aaac5cd1a1eb13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga28175a37be80794b04aaac5cd1a1eb13">&#9670;&#160;</a></span>g2_unlock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void g2_unlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structg2__ctx__t.html">g2_ctx_t</a>&#160;</td>
          <td class="paramname"><em>ctx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Enable IRQs and G2 DMA. </p>
<p>This function restores the IRQ and G2 DMA states using the context value generated by <a class="el" href="group__system__g2bus.html#ga726597af42393c34a37614573786bb29" title="Disable IRQs and G2 DMA.">g2_lock()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ctx</td><td>The context containing IRQ and G2 DMA states. </td></tr>
  </table>
  </dd>
</dl>

<p class="reference">References <a class="el" href="group__irqs.html#ga1f7f5e00972155a86d4fc4ce2df1538d">irq_restore()</a>, and <a class="el" href="structg2__ctx__t.html#ac267f55e228e317e8bd936bedb1b0281">g2_ctx_t::irq_state</a>.</p>

</div>
</div>
<a id="ga9680ffb0182a7f76d126fa30c132cade" name="ga9680ffb0182a7f76d126fa30c132cade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9680ffb0182a7f76d126fa30c132cade">&#9670;&#160;</a></span>g2_write_16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_16 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a 16-bit word to G2. </p>
<p>This function writes one word to the specified address, taking all the necessary precautions to ensure your write actually succeeds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to write to. </td></tr>
    <tr><td class="paramname">value</td><td>The value to write to that address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga0198db5c9757656fc27a639b7c7ecc4d" name="ga0198db5c9757656fc27a639b7c7ecc4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0198db5c9757656fc27a639b7c7ecc4d">&#9670;&#160;</a></span>g2_write_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_32 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a 32-bit dword to G2. </p>
<p>This function writes one dword to the specified address, taking all the necessary precautions to ensure your write actually succeeds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to write to. </td></tr>
    <tr><td class="paramname">value</td><td>The value to write to that address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7858e29c9de455ff8bc5177dc864dce9" name="ga7858e29c9de455ff8bc5177dc864dce9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7858e29c9de455ff8bc5177dc864dce9">&#9670;&#160;</a></span>g2_write_8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_8 </td>
          <td>(</td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a single byte to G2. </p>
<p>This function writes one byte to the specified address, taking all the necessary precautions to ensure your write actually succeeds.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address in memory to write to. </td></tr>
    <tr><td class="paramname">value</td><td>The value to write to that address. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gae7166f21d5caf1e8dd3f294bd22ebb2b" name="gae7166f21d5caf1e8dd3f294bd22ebb2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae7166f21d5caf1e8dd3f294bd22ebb2b">&#9670;&#160;</a></span>g2_write_block_16()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_block_16 </td>
          <td>(</td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a block of words to G2. </p>
<p>This function acts as memcpy() for copying data to G2 from system memory, copying 16 bits at a time. It will take the necessary precautions for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>The pointer in system memory to read from. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to write to. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of words to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaee63d4c38cccb6ed8e14c7f75203d8f1" name="gaee63d4c38cccb6ed8e14c7f75203d8f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaee63d4c38cccb6ed8e14c7f75203d8f1">&#9670;&#160;</a></span>g2_write_block_32()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_block_32 </td>
          <td>(</td>
          <td class="paramtype">const uint32_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a block of dwords to G2. </p>
<p>This function acts as memcpy() for copying data to G2 from system memory, copying 32 bits at a time. It will take the necessary precautions for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>The pointer in system memory to read from. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to write to. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of dwords to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3b8758ea9228eea654eaf32d28affcfd" name="ga3b8758ea9228eea654eaf32d28affcfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3b8758ea9228eea654eaf32d28affcfd">&#9670;&#160;</a></span>g2_write_block_8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void g2_write_block_8 </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uintptr_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>amt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write a block of bytes to G2. </p>
<p>This function acts as memcpy() for copying data to G2 from system memory. It will take the necessary precautions for accessing G2.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input</td><td>The pointer in system memory to read from. </td></tr>
    <tr><td class="paramname">address</td><td>The address in G2-space to write to. </td></tr>
    <tr><td class="paramname">amt</td><td>The number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
