<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: addons/include/ext2/fs_ext2.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fs__ext2_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fs_ext2.h File Reference<div class="ingroups"><a class="el" href="group__vfs.html">Filesystem</a> &raquo; <a class="el" href="group__vfs__drivers.html">Drivers</a> &raquo; <a class="el" href="group__vfs__ext2.html">EXT2</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>VFS interface for an ext2 filesystem.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/cdefs.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;<a class="el" href="blockdev_8h_source.html">kos/blockdev.h</a>&gt;</code><br />
</div>
<p><a href="fs__ext2_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga3c6cba2022a95a4b0837325758a48077" id="r_ga3c6cba2022a95a4b0837325758a48077"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ext2__mount__flags.html#ga3c6cba2022a95a4b0837325758a48077">FS_EXT2_MOUNT_READONLY</a>&#160;&#160;&#160;0x00000000</td></tr>
<tr class="memdesc:ga3c6cba2022a95a4b0837325758a48077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount read-only.  <br /></td></tr>
<tr class="separator:ga3c6cba2022a95a4b0837325758a48077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac23a6798980a0f81ab64cc54c52fc001" id="r_gac23a6798980a0f81ab64cc54c52fc001"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ext2__mount__flags.html#gac23a6798980a0f81ab64cc54c52fc001">FS_EXT2_MOUNT_READWRITE</a>&#160;&#160;&#160;0x00000001</td></tr>
<tr class="memdesc:gac23a6798980a0f81ab64cc54c52fc001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount read-write.  <br /></td></tr>
<tr class="separator:gac23a6798980a0f81ab64cc54c52fc001"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga33dec8476d9acee46d7a789c964d5011" id="r_ga33dec8476d9acee46d7a789c964d5011"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__ext2.html#ga33dec8476d9acee46d7a789c964d5011">fs_ext2_init</a> (void)</td></tr>
<tr class="memdesc:ga33dec8476d9acee46d7a789c964d5011"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize fs_ext2.  <br /></td></tr>
<tr class="separator:ga33dec8476d9acee46d7a789c964d5011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf29a2296348fd70d32985aec55fa9244" id="r_gaf29a2296348fd70d32985aec55fa9244"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__ext2.html#gaf29a2296348fd70d32985aec55fa9244">fs_ext2_shutdown</a> (void)</td></tr>
<tr class="memdesc:gaf29a2296348fd70d32985aec55fa9244"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down fs_ext2.  <br /></td></tr>
<tr class="separator:gaf29a2296348fd70d32985aec55fa9244"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6da73543716d6be455ccbeebd3d31824" id="r_ga6da73543716d6be455ccbeebd3d31824"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__ext2.html#ga6da73543716d6be455ccbeebd3d31824">fs_ext2_mount</a> (const char *mp, <a class="el" href="structkos__blockdev__t.html">kos_blockdev_t</a> *dev, uint32_t flags)</td></tr>
<tr class="memdesc:ga6da73543716d6be455ccbeebd3d31824"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount an ext2 filesystem in the VFS.  <br /></td></tr>
<tr class="separator:ga6da73543716d6be455ccbeebd3d31824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa26e70f1e0173c3ef6fed89d64241753" id="r_gaa26e70f1e0173c3ef6fed89d64241753"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__ext2.html#gaa26e70f1e0173c3ef6fed89d64241753">fs_ext2_unmount</a> (const char *mp)</td></tr>
<tr class="memdesc:gaa26e70f1e0173c3ef6fed89d64241753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmount an ext2 filesystem from the VFS.  <br /></td></tr>
<tr class="separator:gaa26e70f1e0173c3ef6fed89d64241753"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacfa0f55a391d07babb4777f207f79326" id="r_gacfa0f55a391d07babb4777f207f79326"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__ext2.html#gacfa0f55a391d07babb4777f207f79326">fs_ext2_sync</a> (const char *mp)</td></tr>
<tr class="memdesc:gacfa0f55a391d07babb4777f207f79326"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync an ext2 filesystem, flushing all pending writes to the block device.  <br /></td></tr>
<tr class="separator:gacfa0f55a391d07babb4777f207f79326"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>VFS interface for an ext2 filesystem. </p>
<p>This file defines the public interface to add support for the Second Extended Filesystem (ext2) to KOS' VFS. ext2 is one of the many filesystems that is natively supported by Linux, and was the main filesystem used by most Linux installations pretty much until the creation of the ext3 filesystem.</p>
<p>The KOS ext2 driver was designed with two purposes. First of all, this fs was added to provide a filesystem for use on SD cards used with the Dreamcast SD adapter. ext2 was chosen for this purpose for a bunch of reasons, but probably the biggest one was the non-patent-encumbered nature of ext2 and the availability of programs/drivers to read ext2 on most major OSes available for PCs today. The second purpose of this filesystem driver is to provide an alternative for fs_romdisk when swapping out disk images at runtime. Basically, if a disk image is useful to you, but caching it fully in memory is not important, then you could rig up a relatively simple interface with this filesystem driver.</p>
<p>Note that there is a lower-level interface sitting underneath of this layer. This lower-level interface (simply called ext2fs) should not generally be used by any normal applications. As of this point, it is completely non thread-safe and the fs_ext2 layer takes extreme care to overcome those issues with the lower-level interface. Over time, I may fix the thread- safety issues in ext2fs, but that is not particularly high on my priority list at the moment. There shouldn't really be a reason to work directly with the ext2fs layer anyway, as this layer should give you everything you need by interfacing with the VFS in the normal fashion.</p>
<p>There's one final note that I should make. Everything in fs_ext2 and ext2fs is licensed under the same license as the rest of KOS. None of it was derived from GPLed sources. Pretty much all of what's in ext2fs was written based on the documentation at <a href="http://www.nongnu.org/ext2-doc/">http://www.nongnu.org/ext2-doc/</a> .</p>
<dl class="section author"><dt>Author</dt><dd>Lawrence Sebald </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_1233bc0a3e869c10318208e4553a4fcb.html">addons</a></li><li class="navelem"><a class="el" href="dir_afe9dacb2a58566e291675c1103b8b8e.html">include</a></li><li class="navelem"><a class="el" href="dir_c6ed5f303e25ac4a239437e6eef2a7db.html">ext2</a></li><li class="navelem"><a class="el" href="fs__ext2_8h.html">fs_ext2.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
