<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: include/kos/fs_socket.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('fs__socket_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fs_socket.h File Reference<div class="ingroups"><a class="el" href="group__vfs.html">Filesystem</a> &raquo; <a class="el" href="group__vfs__drivers.html">Drivers</a> &raquo; <a class="el" href="group__vfs__sockets.html">Sockets</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Definitions for a sockets "filesystem".  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/cdefs.h&gt;</code><br />
<code>#include &lt;<a class="el" href="types_8h_source.html">arch/types.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="fs_8h_source.html">kos/fs.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="net_8h_source.html">kos/net.h</a>&gt;</code><br />
<code>#include &lt;sys/queue.h&gt;</code><br />
<code>#include &lt;<a class="el" href="socket_8h_source.html">sys/socket.h</a>&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
</div>
<p><a href="fs__socket_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnet__socket__t.html">net_socket_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal representation of a socket for fs_socket.  <a href="structnet__socket__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfs__socket__proto__t.html">fs_socket_proto_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal sockets protocol handler.  <a href="structfs__socket__proto__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga097b7ed656e32436f856d78ea72d7d72" id="r_ga097b7ed656e32436f856d78ea72d7d72"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__sockets.html#ga097b7ed656e32436f856d78ea72d7d72">FS_SOCKET_PROTO_ENTRY</a>&#160;&#160;&#160;{ NULL, NULL }</td></tr>
<tr class="memdesc:ga097b7ed656e32436f856d78ea72d7d72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializer for the entry field in the <a class="el" href="structfs__socket__proto__t.html" title="Internal sockets protocol handler.">fs_socket_proto_t</a> struct.  <br /></td></tr>
<tr class="separator:ga097b7ed656e32436f856d78ea72d7d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad23d9fe93a05a106d734b292fa9a9a7" id="r_gaad23d9fe93a05a106d734b292fa9a9a7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sock__flags.html#gaad23d9fe93a05a106d734b292fa9a9a7">FS_SOCKET_NONBLOCK</a>&#160;&#160;&#160;0x00000001  /** \brief Non-blocking operations */</td></tr>
<tr class="separator:gaad23d9fe93a05a106d734b292fa9a9a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c99f5caddfae961e5c3f3c5db13065f" id="r_ga5c99f5caddfae961e5c3f3c5db13065f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sock__flags.html#ga5c99f5caddfae961e5c3f3c5db13065f">FS_SOCKET_V6ONLY</a>&#160;&#160;&#160;0x00000002  /** \brief IPv6 Only */</td></tr>
<tr class="separator:ga5c99f5caddfae961e5c3f3c5db13065f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86bf5a94eb8ad15954010b6a58f7a602" id="r_ga86bf5a94eb8ad15954010b6a58f7a602"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sock__flags.html#ga86bf5a94eb8ad15954010b6a58f7a602">FS_SOCKET_GEN_MAX</a>&#160;&#160;&#160;0x00008000  /** \brief Maximum generic flag */</td></tr>
<tr class="separator:ga86bf5a94eb8ad15954010b6a58f7a602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga12b5842dac814b8d08a9561b67720656" id="r_ga12b5842dac814b8d08a9561b67720656"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__sock__flags.html#ga12b5842dac814b8d08a9561b67720656">FS_SOCKET_FAM_MAX</a>&#160;&#160;&#160;0x00800000  /** \brief Maximum family flag */</td></tr>
<tr class="separator:ga12b5842dac814b8d08a9561b67720656"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga59210fb2e2589dc9cfc32085239320e8" id="r_ga59210fb2e2589dc9cfc32085239320e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnet__socket__t.html">net_socket_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__sockets.html#ga59210fb2e2589dc9cfc32085239320e8">fs_socket_open_sock</a> (<a class="el" href="structfs__socket__proto__t.html">fs_socket_proto_t</a> *proto)</td></tr>
<tr class="memdesc:ga59210fb2e2589dc9cfc32085239320e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Open a socket without calling the protocol initializer.  <br /></td></tr>
<tr class="separator:ga59210fb2e2589dc9cfc32085239320e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29f23e1a12915ead3103c990ba151bb5" id="r_ga29f23e1a12915ead3103c990ba151bb5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__sockets.html#ga29f23e1a12915ead3103c990ba151bb5">fs_socket_input</a> (<a class="el" href="structnetif__t.html">netif_t</a> *src, int domain, int protocol, const void *hdr, const <a class="el" href="group__system__types.html#gadde6aaee8457bee49c2a92621fe22b79">uint8</a> *data, size_t size)</td></tr>
<tr class="memdesc:ga29f23e1a12915ead3103c990ba151bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Input a packet into some socket family handler.  <br /></td></tr>
<tr class="separator:ga29f23e1a12915ead3103c990ba151bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6fd5572c54f1300b2ed6ddae855f8629" id="r_ga6fd5572c54f1300b2ed6ddae855f8629"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__sockets.html#ga6fd5572c54f1300b2ed6ddae855f8629">fs_socket_proto_add</a> (<a class="el" href="structfs__socket__proto__t.html">fs_socket_proto_t</a> *proto)</td></tr>
<tr class="memdesc:ga6fd5572c54f1300b2ed6ddae855f8629"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a new protocol for use with fs_socket.  <br /></td></tr>
<tr class="separator:ga6fd5572c54f1300b2ed6ddae855f8629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga385292f1e99c1e227216803f5674b784" id="r_ga385292f1e99c1e227216803f5674b784"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__sockets.html#ga385292f1e99c1e227216803f5674b784">fs_socket_proto_remove</a> (<a class="el" href="structfs__socket__proto__t.html">fs_socket_proto_t</a> *proto)</td></tr>
<tr class="memdesc:ga385292f1e99c1e227216803f5674b784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unregister a protocol from fs_socket.  <br /></td></tr>
<tr class="separator:ga385292f1e99c1e227216803f5674b784"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definitions for a sockets "filesystem". </p>
<p>This file provides definitions to support the BSD-sockets-like filesystem in KallistiOS. Technically, this filesystem mounts itself on /sock, but it doesn't export any files there, so that point is largely irrelevant. The filesystem is designed to be extensible, making it possible to add additional socket family handlers at runtime. Currently, the kernel only implements UDP sockets over IPv4 and IPv6, but as mentioned, this can be extended in a fairly straightforward manner. In general, as a user of KallistiOS (someone not interested in adding additional socket family drivers), there's very little in this file that will be of interest.</p>
<dl class="section author"><dt>Author</dt><dd>Lawrence Sebald </dd></dl>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_db731743ba9f17d1ef3041653c74f067.html">kos</a></li><li class="navelem"><a class="el" href="fs__socket_8h.html">fs_socket.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
