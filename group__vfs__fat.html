<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: FAT</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__vfs__fat.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">FAT<div class="ingroups"><a class="el" href="group__vfs.html">Filesystem</a> &raquo; <a class="el" href="group__vfs__drivers.html">Drivers</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>FAT 12, 16, and 32-bit support for KOS's VFS.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:group__fat__mount__flags" id="r_group__fat__mount__flags"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fat__mount__flags.html">Mount Flags</a></td></tr>
<tr class="memdesc:group__fat__mount__flags"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount flags for fs_fat. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:fs__fat_8h" id="r_fs__fat_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs__fat_8h.html">fs_fat.h</a></td></tr>
<tr class="memdesc:fs__fat_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">VFS interface for a FAT filesystem. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gadf4c2fb0362b2f2aaef0c3539dcb0f47" id="r_gadf4c2fb0362b2f2aaef0c3539dcb0f47"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__fat.html#gadf4c2fb0362b2f2aaef0c3539dcb0f47">fs_fat_init</a> (void)</td></tr>
<tr class="memdesc:gadf4c2fb0362b2f2aaef0c3539dcb0f47"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize fs_fat.  <br /></td></tr>
<tr class="separator:gadf4c2fb0362b2f2aaef0c3539dcb0f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd6549f6a1acd698664965a82204f828" id="r_gafd6549f6a1acd698664965a82204f828"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__fat.html#gafd6549f6a1acd698664965a82204f828">fs_fat_shutdown</a> (void)</td></tr>
<tr class="memdesc:gafd6549f6a1acd698664965a82204f828"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shut down fs_fat.  <br /></td></tr>
<tr class="separator:gafd6549f6a1acd698664965a82204f828"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadb46113c2af93844f88e067657f5b5b0" id="r_gadb46113c2af93844f88e067657f5b5b0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__fat.html#gadb46113c2af93844f88e067657f5b5b0">fs_fat_mount</a> (const char *mp, <a class="el" href="structkos__blockdev__t.html">kos_blockdev_t</a> *dev, uint32_t flags)</td></tr>
<tr class="memdesc:gadb46113c2af93844f88e067657f5b5b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mount a FAT filesystem in the VFS.  <br /></td></tr>
<tr class="separator:gadb46113c2af93844f88e067657f5b5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88ae0f9e5aa0d49d99f0f7b7a5975f23" id="r_ga88ae0f9e5aa0d49d99f0f7b7a5975f23"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__fat.html#ga88ae0f9e5aa0d49d99f0f7b7a5975f23">fs_fat_unmount</a> (const char *mp)</td></tr>
<tr class="memdesc:ga88ae0f9e5aa0d49d99f0f7b7a5975f23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unmount a FAT filesystem from the VFS.  <br /></td></tr>
<tr class="separator:ga88ae0f9e5aa0d49d99f0f7b7a5975f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga49f70f2b1f90f9d8412dc1c5f1e1ae44" id="r_ga49f70f2b1f90f9d8412dc1c5f1e1ae44"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__vfs__fat.html#ga49f70f2b1f90f9d8412dc1c5f1e1ae44">fs_fat_sync</a> (const char *mp)</td></tr>
<tr class="memdesc:ga49f70f2b1f90f9d8412dc1c5f1e1ae44"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sync a FAT filesystem, flushing all pending writes to the block device.  <br /></td></tr>
<tr class="separator:ga49f70f2b1f90f9d8412dc1c5f1e1ae44"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>FAT 12, 16, and 32-bit support for KOS's VFS. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gadf4c2fb0362b2f2aaef0c3539dcb0f47" name="gadf4c2fb0362b2f2aaef0c3539dcb0f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadf4c2fb0362b2f2aaef0c3539dcb0f47">&#9670;&#160;</a></span>fs_fat_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fs_fat_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize fs_fat. </p>
<p>This function initializes fs_fat, preparing various internal structures for use.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. No error conditions currently defined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gadb46113c2af93844f88e067657f5b5b0" name="gadb46113c2af93844f88e067657f5b5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadb46113c2af93844f88e067657f5b5b0">&#9670;&#160;</a></span>fs_fat_mount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fs_fat_mount </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkos__blockdev__t.html">kos_blockdev_t</a> *&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mount a FAT filesystem in the VFS. </p>
<p>This function mounts an fat filesystem to the specified mount point on the VFS. This function will detect whether or not an FAT filesystem exists on the given block device and mount it only if there is actually an FAT filesystem.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mp</td><td>The path to mount the filesystem at. </td></tr>
    <tr><td class="paramname">dev</td><td>The block device containing the filesystem. </td></tr>
    <tr><td class="paramname">flags</td><td>Mount flags. Bitwise OR of values from fat_mount_flags</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafd6549f6a1acd698664965a82204f828" name="gafd6549f6a1acd698664965a82204f828"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafd6549f6a1acd698664965a82204f828">&#9670;&#160;</a></span>fs_fat_shutdown()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fs_fat_shutdown </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Shut down fs_fat. </p>
<p>This function shuts down fs_fat, basically undoing what <a class="el" href="group__vfs__fat.html#gadf4c2fb0362b2f2aaef0c3539dcb0f47" title="Initialize fs_fat.">fs_fat_init()</a> did.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. No error conditions currently defined. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga49f70f2b1f90f9d8412dc1c5f1e1ae44" name="ga49f70f2b1f90f9d8412dc1c5f1e1ae44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga49f70f2b1f90f9d8412dc1c5f1e1ae44">&#9670;&#160;</a></span>fs_fat_sync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fs_fat_sync </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sync a FAT filesystem, flushing all pending writes to the block device. </p>
<p>This function completes all pending writes on the filesystem, making sure all data and metadata are in a consistent state on the block device. As both inode and block writes are normally postponed until they are either evicted from the cache or the filesystem is unmounted, doing this periodically may be a good idea if there is a chance that the filesystem will not be unmounted cleanly.</p>
<dl class="section note"><dt>Note</dt><dd>This function has no effect if the filesystem was mounted read-only.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mp</td><td>The mount point of the filesystem to be synced.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga88ae0f9e5aa0d49d99f0f7b7a5975f23" name="ga88ae0f9e5aa0d49d99f0f7b7a5975f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga88ae0f9e5aa0d49d99f0f7b7a5975f23">&#9670;&#160;</a></span>fs_fat_unmount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fs_fat_unmount </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unmount a FAT filesystem from the VFS. </p>
<p>This function unmoutns an FAT filesystem that was previously mounted by the <a class="el" href="group__vfs__fat.html#gadb46113c2af93844f88e067657f5b5b0" title="Mount a FAT filesystem in the VFS.">fs_fat_mount()</a> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mp</td><td>The mount point of the filesystem to be unmounted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On success. </td></tr>
    <tr><td class="paramname">-1</td><td>On error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
