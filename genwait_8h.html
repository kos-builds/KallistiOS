<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KallistiOS: include/kos/genwait.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">KallistiOS<span id="projectnumber">&#160;##version##</span>
   </div>
   <div id="projectbrief">Independent SDK for the Sega Dreamcast</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('genwait_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">genwait.h File Reference<div class="ingroups"><a class="el" href="group__threading.html">Threading</a> &raquo; <a class="el" href="group__kthreads.html">Kernel</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Generic wait system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;sys/cdefs.h&gt;</code><br />
<code>#include &lt;<a class="el" href="thread_8h_source.html">kos/thread.h</a>&gt;</code><br />
</div>
<p><a href="genwait_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a52541d393936a6494bc24ecbbcc3d6f3" id="r_a52541d393936a6494bc24ecbbcc3d6f3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3">genwait_wait</a> (void *obj, const char *mesg, int timeout, void(*callback)(void *))</td></tr>
<tr class="memdesc:a52541d393936a6494bc24ecbbcc3d6f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep on an object.  <br /></td></tr>
<tr class="separator:a52541d393936a6494bc24ecbbcc3d6f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecd76fc7318b8dca87a8f878a1193442" id="r_aecd76fc7318b8dca87a8f878a1193442"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#aecd76fc7318b8dca87a8f878a1193442">genwait_wake_cnt</a> (void *obj, int cnt, int err)</td></tr>
<tr class="memdesc:aecd76fc7318b8dca87a8f878a1193442"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up a number of threads sleeping on an object.  <br /></td></tr>
<tr class="separator:aecd76fc7318b8dca87a8f878a1193442"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b442fe2d3ce2f2cd83ef880db3c5019" id="r_a2b442fe2d3ce2f2cd83ef880db3c5019"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a2b442fe2d3ce2f2cd83ef880db3c5019">genwait_wake_all</a> (void *obj)</td></tr>
<tr class="memdesc:a2b442fe2d3ce2f2cd83ef880db3c5019"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up all threads sleeping on an object.  <br /></td></tr>
<tr class="separator:a2b442fe2d3ce2f2cd83ef880db3c5019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a13953ca917dfab8b432900202fb96e" id="r_a0a13953ca917dfab8b432900202fb96e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a0a13953ca917dfab8b432900202fb96e">genwait_wake_one</a> (void *obj)</td></tr>
<tr class="memdesc:a0a13953ca917dfab8b432900202fb96e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up one thread sleeping on an object.  <br /></td></tr>
<tr class="separator:a0a13953ca917dfab8b432900202fb96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac678b2fba51e6dad09df012aed0336" id="r_a9ac678b2fba51e6dad09df012aed0336"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a9ac678b2fba51e6dad09df012aed0336">genwait_wake_all_err</a> (void *obj, int err)</td></tr>
<tr class="memdesc:a9ac678b2fba51e6dad09df012aed0336"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up all threads sleeping on an object, with an error.  <br /></td></tr>
<tr class="separator:a9ac678b2fba51e6dad09df012aed0336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255ec5ddb06c1148af09457a2e2d9a1d" id="r_a255ec5ddb06c1148af09457a2e2d9a1d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a255ec5ddb06c1148af09457a2e2d9a1d">genwait_wake_one_err</a> (void *obj, int err)</td></tr>
<tr class="memdesc:a255ec5ddb06c1148af09457a2e2d9a1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up one thread sleeping on an object, with an error.  <br /></td></tr>
<tr class="separator:a255ec5ddb06c1148af09457a2e2d9a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dd3bee1c9b22e25cafb6fb1808c8814" id="r_a8dd3bee1c9b22e25cafb6fb1808c8814"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a8dd3bee1c9b22e25cafb6fb1808c8814">genwait_wake_thd</a> (void *obj, <a class="el" href="structkthread__t.html">kthread_t</a> *thd, int err)</td></tr>
<tr class="memdesc:a8dd3bee1c9b22e25cafb6fb1808c8814"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wake up a specific thread that is sleeping on an object.  <br /></td></tr>
<tr class="separator:a8dd3bee1c9b22e25cafb6fb1808c8814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee4f8d39d4bd375eb835d7214e11ac6" id="r_a6ee4f8d39d4bd375eb835d7214e11ac6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#a6ee4f8d39d4bd375eb835d7214e11ac6">genwait_check_timeouts</a> (<a class="el" href="group__system__types.html#ga29940ae63ec06c9998bba873e25407ad">uint64</a> now)</td></tr>
<tr class="memdesc:a6ee4f8d39d4bd375eb835d7214e11ac6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for timed out <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a> calls.  <br /></td></tr>
<tr class="separator:a6ee4f8d39d4bd375eb835d7214e11ac6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71e45241c05df542f677865f3d364a6" id="r_af71e45241c05df542f677865f3d364a6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__system__types.html#ga29940ae63ec06c9998bba873e25407ad">uint64</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="genwait_8h.html#af71e45241c05df542f677865f3d364a6">genwait_next_timeout</a> (void)</td></tr>
<tr class="memdesc:af71e45241c05df542f677865f3d364a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for the next timeout event time.  <br /></td></tr>
<tr class="separator:af71e45241c05df542f677865f3d364a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic wait system. </p>
<p>The generic wait system in KOS, like many other portions of KOS, is based on an idea from the BSD kernel. It allows you to sleep on any random object and later wake up any threads that happen to be sleeping on that object. All of KOS' sync primitives (other than spinlocks) are based on this concept, and it can be used for some fairly useful things.</p>
<dl class="section author"><dt>Author</dt><dd>Megan Potter </dd>
<dd>
Lawrence Sebald </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a6ee4f8d39d4bd375eb835d7214e11ac6" name="a6ee4f8d39d4bd375eb835d7214e11ac6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee4f8d39d4bd375eb835d7214e11ac6">&#9670;&#160;</a></span>genwait_check_timeouts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genwait_check_timeouts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__system__types.html#ga29940ae63ec06c9998bba873e25407ad">uint64</a>&#160;</td>
          <td class="paramname"><em>now</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for timed out <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a> calls. </p>
<p>There should be no reason you need to call this function, it is called internally by the scheduler for you.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">now</td><td>The current system time, in milliseconds since boot </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af71e45241c05df542f677865f3d364a6" name="af71e45241c05df542f677865f3d364a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71e45241c05df542f677865f3d364a6">&#9670;&#160;</a></span>genwait_next_timeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__system__types.html#ga29940ae63ec06c9998bba873e25407ad">uint64</a> genwait_next_timeout </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Look for the next timeout event time. </p>
<p>This function looks up when the next <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a> call will timeout. This function is for the internal use of the scheduler, and should not be called from user code.</p>
<dl class="section return"><dt>Returns</dt><dd>The next timeout time in milliseconds since boot, or 0 if there are no pending <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a> calls </dd></dl>

</div>
</div>
<a id="a52541d393936a6494bc24ecbbcc3d6f3" name="a52541d393936a6494bc24ecbbcc3d6f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52541d393936a6494bc24ecbbcc3d6f3">&#9670;&#160;</a></span>genwait_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genwait_wait </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>mesg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sleep on an object. </p>
<p>This function sleeps on the specified object. You are not allowed to call this function inside an interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to sleep on </td></tr>
    <tr><td class="paramname">mesg</td><td>A message to show in the status </td></tr>
    <tr><td class="paramname">timeout</td><td>If not woken before this many milliseconds have passed, wake up anyway </td></tr>
    <tr><td class="paramname">callback</td><td>If non-NULL, call this function with obj as its argument if the wait times out (but before the calling thread has been woken back up) </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>On successfully being woken up (not by timeout) </td></tr>
    <tr><td class="paramname">-1</td><td>On error or being woken by timeout</td></tr>
  </table>
  </dd>
</dl>
<dl class="section user"><dt>Error Conditions:</dt><dd><em>EAGAIN</em> - on timeout </dd></dl>

</div>
</div>
<a id="a2b442fe2d3ce2f2cd83ef880db3c5019" name="a2b442fe2d3ce2f2cd83ef880db3c5019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b442fe2d3ce2f2cd83ef880db3c5019">&#9670;&#160;</a></span>genwait_wake_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genwait_wake_all </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up all threads sleeping on an object. </p>
<p>This function simply calls genwait_wake_cnt(obj, -1, 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake threads that are sleeping on it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="genwait_8h.html#aecd76fc7318b8dca87a8f878a1193442" title="Wake up a number of threads sleeping on an object.">genwait_wake_cnt()</a> </dd></dl>

</div>
</div>
<a id="a9ac678b2fba51e6dad09df012aed0336" name="a9ac678b2fba51e6dad09df012aed0336"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac678b2fba51e6dad09df012aed0336">&#9670;&#160;</a></span>genwait_wake_all_err()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genwait_wake_all_err </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up all threads sleeping on an object, with an error. </p>
<p>This function simply calls genwait_wake_cnt(obj, -1, err).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake threads that are sleeping on it </td></tr>
    <tr><td class="paramname">err</td><td>The value to set in the threads' errno values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="genwait_8h.html#aecd76fc7318b8dca87a8f878a1193442" title="Wake up a number of threads sleeping on an object.">genwait_wake_cnt()</a> </dd></dl>

</div>
</div>
<a id="aecd76fc7318b8dca87a8f878a1193442" name="aecd76fc7318b8dca87a8f878a1193442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecd76fc7318b8dca87a8f878a1193442">&#9670;&#160;</a></span>genwait_wake_cnt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genwait_wake_cnt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>cnt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up a number of threads sleeping on an object. </p>
<p>This function wakes up the specified number of threads sleeping on the object specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake threads that are sleeping on it </td></tr>
    <tr><td class="paramname">cnt</td><td>The number of threads to wake, if &lt;= 0, wake all </td></tr>
    <tr><td class="paramname">err</td><td>The errno code to set as the errno value on the woken threads. If this is 0 (EOK), then the thread's errno will not be changed, and the thread will get a return value of 0 from the <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a>. If it is non-zero, the thread will get a return value of -1 and errno will be set to this value for the woken threads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of threads woken </dd></dl>

</div>
</div>
<a id="a0a13953ca917dfab8b432900202fb96e" name="a0a13953ca917dfab8b432900202fb96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a13953ca917dfab8b432900202fb96e">&#9670;&#160;</a></span>genwait_wake_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genwait_wake_one </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up one thread sleeping on an object. </p>
<p>This function simply calls genwait_wake_cnt(obj, 1, 0).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake threads that are sleeping on it </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="genwait_8h.html#aecd76fc7318b8dca87a8f878a1193442" title="Wake up a number of threads sleeping on an object.">genwait_wake_cnt()</a> </dd></dl>

</div>
</div>
<a id="a255ec5ddb06c1148af09457a2e2d9a1d" name="a255ec5ddb06c1148af09457a2e2d9a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255ec5ddb06c1148af09457a2e2d9a1d">&#9670;&#160;</a></span>genwait_wake_one_err()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void genwait_wake_one_err </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up one thread sleeping on an object, with an error. </p>
<p>This function simply calls genwait_wake_cnt(obj, 1, err).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake threads that are sleeping on it </td></tr>
    <tr><td class="paramname">err</td><td>The value to set in the threads' errno values </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="genwait_8h.html#aecd76fc7318b8dca87a8f878a1193442" title="Wake up a number of threads sleeping on an object.">genwait_wake_cnt()</a> </dd></dl>

</div>
</div>
<a id="a8dd3bee1c9b22e25cafb6fb1808c8814" name="a8dd3bee1c9b22e25cafb6fb1808c8814"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dd3bee1c9b22e25cafb6fb1808c8814">&#9670;&#160;</a></span>genwait_wake_thd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int genwait_wake_thd </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structkthread__t.html">kthread_t</a> *&#160;</td>
          <td class="paramname"><em>thd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wake up a specific thread that is sleeping on an object. </p>
<p>This function wakes up the specified thread, assuming it is sleeping on the specified object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">obj</td><td>The object to wake the thread from </td></tr>
    <tr><td class="paramname">thd</td><td>The specific thread to wake </td></tr>
    <tr><td class="paramname">err</td><td>The errno code to set as the errno value on the woken thread. If this is 0 (EOK), then the thread's errno will not be changed, and the thread will get a return value of 0 from the <a class="el" href="genwait_8h.html#a52541d393936a6494bc24ecbbcc3d6f3" title="Sleep on an object.">genwait_wait()</a>. If it is non-zero, the thread will get a return value of -1 and errno will be set to this value for the woken threads. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of threads woken, which should be 1 on success. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_db731743ba9f17d1ef3041653c74f067.html">kos</a></li><li class="navelem"><a class="el" href="genwait_8h.html">genwait.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
